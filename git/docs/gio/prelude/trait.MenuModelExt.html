<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait containing all `struct@MenuModel` methods."><title>MenuModelExt in gio::prelude - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e7950ecc.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gio" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0-nightly (f85c6de55 2025-01-26)" data-channel="nightly" data-search-js="search-ccb196c1.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]-->
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", checkDocsLatestStable);

    function checkDocsLatestStable() {
        function popup(msg, url) { return `
            <style scoped="scoped">
                .popup {
                    max-width: 16em;
                    background-color: #fff;
                    position: fixed;
                    z-index: 1;
                    margin-left: auto;
                    bottom: 1em;
                    right: 1em;
                    border-radius: 5px;
                    box-shadow: 1px 1px 4px #777;
                }

                .popup a.version {
                    color: #e57300;
                    padding: 0.6em 1em;
                    display: block;
                }
                .popup a.version:hover {
                    color: #b25900;
                }

                .popup a.close {
                    color: white;
                    background: grey;
                    border-radius: 99px;
                    display: inline-block;
                    width: 19px;
                    line-height: 19px;
                    font-weight: bold;
                    text-align: center;
                    margin: 0.6em;
                    float: right;
                }
                .popup a.close:hover {
                    background: black;
                }
            </style>
            <section class="popup" id="gir_docs_popup">
                <a class="close" href="#" onclick="document.getElementById('gir_docs_popup').remove(); return false">×</a>
                <a class="version" href="https://gtk-rs.org/gtk-rs-core/stable/latest/docs">
                    ⚠ ${msg}
                </a>
            </section>
        ` };

        if ("main" == "main") {
            document.body.insertAdjacentHTML(
                'beforeend',
                popup("This is the development version. Go to latest stable version.", "stable/latest")
            );
        } else {
            fetch('https://gtk-rs.org/gtk-rs-core/LATEST_RELEASE_BRANCH')
                .then(response => response.text())
                .then(latest_branch => {
                    if (latest_branch.trim() != "main") {
                        document.body.insertAdjacentHTML(
                            'beforeend',
                            popup("This version is outdated. Go to latest version.", "stable/latest")
                        );
                    }
                });
        }
    }
</script>


<nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../gio/index.html">gio</a><span class="version">0.21.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Menu<wbr>Model<wbr>Ext</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#implementors-1" title="Implementors">Implementors</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.connect_items_changed" title="connect_items_changed">connect_items_changed</a></li><li><a href="#method.is_mutable" title="is_mutable">is_mutable</a></li><li><a href="#method.item_attribute_value" title="item_attribute_value">item_attribute_value</a></li><li><a href="#method.item_link" title="item_link">item_link</a></li><li><a href="#method.items_changed" title="items_changed">items_changed</a></li><li><a href="#method.iterate_item_attributes" title="iterate_item_attributes">iterate_item_attributes</a></li><li><a href="#method.iterate_item_links" title="iterate_item_links">iterate_item_links</a></li><li><a href="#method.n_items" title="n_items">n_items</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In gio::<wbr>prelude</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">gio</a>::<wbr><a href="index.html">prelude</a></div><h1>Trait <span class="trait">MenuModelExt</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/gio/auto/menu_model.rs.html#183-415">Source</a> </span></div><pre class="rust item-decl"><code>pub trait MenuModelExt: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.MenuModel.html" title="struct gio::MenuModel">MenuModel</a>&gt; + 'static {
    // Provided methods
    fn <a href="#method.item_attribute_value" class="fn">item_attribute_value</a>(
        &amp;self,
        item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>,
        attribute: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>,
        expected_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../glib/variant_type/struct.VariantTy.html" title="struct glib::variant_type::VariantTy">VariantTy</a>&gt;,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../glib/variant/struct.Variant.html" title="struct glib::variant::Variant">Variant</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.item_link" class="fn">item_link</a>(&amp;self, item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, link: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MenuModel.html" title="struct gio::MenuModel">MenuModel</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.n_items" class="fn">n_items</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_mutable" class="fn">is_mutable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.items_changed" class="fn">items_changed</a>(&amp;self, position: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, removed: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, added: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) { ... }
<span class="item-spacer"></span>    fn <a href="#method.iterate_item_attributes" class="fn">iterate_item_attributes</a>(&amp;self, item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="struct" href="../struct.MenuAttributeIter.html" title="struct gio::MenuAttributeIter">MenuAttributeIter</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.iterate_item_links" class="fn">iterate_item_links</a>(&amp;self, item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="struct" href="../struct.MenuLinkIter.html" title="struct gio::MenuLinkIter">MenuLinkIter</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.connect_items_changed" class="fn">connect_items_changed</a>&lt;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;Self, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) + 'static&gt;(
        &amp;self,
        f: F,
    ) -&gt; <a class="struct" href="../../glib/signal/struct.SignalHandlerId.html" title="struct glib::signal::SignalHandlerId">SignalHandlerId</a> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait containing all <a href="../struct.MenuModel.html" title="struct gio::MenuModel"><code>MenuModel</code></a> methods.</p>
<h2 id="implementors-1"><a class="doc-anchor" href="#implementors-1">§</a>Implementors</h2>
<p><a href="../struct.DBusMenuModel.html" title="struct gio::DBusMenuModel"><code>DBusMenuModel</code></a>, <a href="../struct.MenuModel.html" title="struct gio::MenuModel"><code>MenuModel</code></a>, <a href="../struct.Menu.html" title="struct gio::Menu"><code>Menu</code></a></p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.item_attribute_value" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#214-228">Source</a><h4 class="code-header">fn <a href="#method.item_attribute_value" class="fn">item_attribute_value</a>(
    &amp;self,
    item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>,
    attribute: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>,
    expected_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../glib/variant_type/struct.VariantTy.html" title="struct glib::variant_type::VariantTy">VariantTy</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../glib/variant/struct.Variant.html" title="struct glib::variant::Variant">Variant</a>&gt;</h4></section></summary><div class="docblock"><p>Queries the item at position @item_index in @self for the attribute
specified by @attribute.</p>
<p>If @expected_type is non-<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> then it specifies the expected type of
the attribute.  If it is <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> then any type will be accepted.</p>
<p>If the attribute exists and matches @expected_type (or if the
expected type is unspecified) then the value is returned.</p>
<p>If the attribute does not exist, or does not match the expected type
then <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> is returned.</p>
<h6 id="item_index"><a class="doc-anchor" href="#item_index">§</a><code>item_index</code></h6>
<p>the index of the item</p>
<h6 id="attribute"><a class="doc-anchor" href="#attribute">§</a><code>attribute</code></h6>
<p>the attribute to query</p>
<h6 id="expected_type"><a class="doc-anchor" href="#expected_type">§</a><code>expected_type</code></h6>
<p>the expected type of the attribute, or
<a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a></p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<p>the value of the attribute</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.item_link" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#246-254">Source</a><h4 class="code-header">fn <a href="#method.item_link" class="fn">item_link</a>(&amp;self, item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, link: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.MenuModel.html" title="struct gio::MenuModel">MenuModel</a>&gt;</h4></section></summary><div class="docblock"><p>Queries the item at position @item_index in @self for the link
specified by @link.</p>
<p>If the link exists, the linked #GMenuModel is returned.  If the link
does not exist, <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> is returned.</p>
<h6 id="item_index-1"><a class="doc-anchor" href="#item_index-1">§</a><code>item_index</code></h6>
<p>the index of the item</p>
<h6 id="link"><a class="doc-anchor" href="#link">§</a><code>link</code></h6>
<p>the link to query</p>
<h5 id="returns-1"><a class="doc-anchor" href="#returns-1">§</a>Returns</h5>
<p>the linked #GMenuModel, or <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.n_items" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#263-265">Source</a><h4 class="code-header">fn <a href="#method.n_items" class="fn">n_items</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a></h4></section></summary><div class="docblock"><p>Query the number of items in @self.</p>
<h5 id="returns-2"><a class="doc-anchor" href="#returns-2">§</a>Returns</h5>
<p>the number of items</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_mutable" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#277-279">Source</a><h4 class="code-header">fn <a href="#method.is_mutable" class="fn">is_mutable</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Queries if @self is mutable.</p>
<p>An immutable #GMenuModel will never emit the #GMenuModel::items-changed
signal. Consumers of the model may make optimisations accordingly.</p>
<h5 id="returns-3"><a class="doc-anchor" href="#returns-3">§</a>Returns</h5>
<p><a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" title="primitive bool"><code>true</code></a> if the model is mutable (ie: “items-changed” may be
emitted).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.items_changed" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#303-312">Source</a><h4 class="code-header">fn <a href="#method.items_changed" class="fn">items_changed</a>(&amp;self, position: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, removed: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, added: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</h4></section></summary><div class="docblock"><p>Requests emission of the #GMenuModel::items-changed signal on @self.</p>
<p>This function should never be called except by #GMenuModel
subclasses.  Any other calls to this function will very likely lead
to a violation of the interface of the model.</p>
<p>The implementation should update its internal representation of the
menu before emitting the signal.  The implementation should further
expect to receive queries about the new state of the menu (and
particularly added menu items) while signal handlers are running.</p>
<p>The implementation must dispatch this call directly from a mainloop
entry and not in response to calls – particularly those from the
#GMenuModel API.  Said another way: the menu must not change while
user code is running without returning to the mainloop.</p>
<h6 id="position"><a class="doc-anchor" href="#position">§</a><code>position</code></h6>
<p>the position of the change</p>
<h6 id="removed"><a class="doc-anchor" href="#removed">§</a><code>removed</code></h6>
<p>the number of items removed</p>
<h6 id="added"><a class="doc-anchor" href="#added">§</a><code>added</code></h6>
<p>the number of items added</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.iterate_item_attributes" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#325-332">Source</a><h4 class="code-header">fn <a href="#method.iterate_item_attributes" class="fn">iterate_item_attributes</a>(&amp;self, item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="struct" href="../struct.MenuAttributeIter.html" title="struct gio::MenuAttributeIter">MenuAttributeIter</a></h4></section></summary><div class="docblock"><p>Creates a #GMenuAttributeIter to iterate over the attributes of
the item at position @item_index in @self.</p>
<p>You must free the iterator with g_object_unref() when you are done.</p>
<h6 id="item_index-2"><a class="doc-anchor" href="#item_index-2">§</a><code>item_index</code></h6>
<p>the index of the item</p>
<h5 id="returns-4"><a class="doc-anchor" href="#returns-4">§</a>Returns</h5>
<p>a new #GMenuAttributeIter</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.iterate_item_links" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#345-352">Source</a><h4 class="code-header">fn <a href="#method.iterate_item_links" class="fn">iterate_item_links</a>(&amp;self, item_index: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) -&gt; <a class="struct" href="../struct.MenuLinkIter.html" title="struct gio::MenuLinkIter">MenuLinkIter</a></h4></section></summary><div class="docblock"><p>Creates a #GMenuLinkIter to iterate over the links of the item at
position @item_index in @self.</p>
<p>You must free the iterator with g_object_unref() when you are done.</p>
<h6 id="item_index-3"><a class="doc-anchor" href="#item_index-3">§</a><code>item_index</code></h6>
<p>the index of the item</p>
<h5 id="returns-5"><a class="doc-anchor" href="#returns-5">§</a>Returns</h5>
<p>a new #GMenuLinkIter</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.connect_items_changed" class="method"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#381-414">Source</a><h4 class="code-header">fn <a href="#method.connect_items_changed" class="fn">connect_items_changed</a>&lt;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;Self, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>) + 'static&gt;(
    &amp;self,
    f: F,
) -&gt; <a class="struct" href="../../glib/signal/struct.SignalHandlerId.html" title="struct glib::signal::SignalHandlerId">SignalHandlerId</a></h4></section></summary><div class="docblock"><p>Emitted when a change has occurred to the menu.</p>
<p>The only changes that can occur to a menu is that items are removed
or added.  Items may not change (except by being removed and added
back in the same location).  This signal is capable of describing
both of those changes (at the same time).</p>
<p>The signal means that starting at the index @position, @removed
items were removed and @added items were added in their place.  If
@removed is zero then only items were added.  If @added is zero
then only items were removed.</p>
<p>As an example, if the menu contains items a, b, c, d (in that
order) and the signal (2, 1, 3) occurs then the new composition of
the menu will be a, b, _, _, _, d (with each _ representing some
new item).</p>
<p>Signal handlers may query the model (particularly the added items)
and expect to see the results of the modification that is being
reported.  The signal is emitted after the modification.</p>
<h6 id="position-1"><a class="doc-anchor" href="#position-1">§</a><code>position</code></h6>
<p>the position of the change</p>
<h6 id="removed-1"><a class="doc-anchor" href="#removed-1">§</a><code>removed</code></h6>
<p>the number of items removed</p>
<h6 id="added-1"><a class="doc-anchor" href="#added-1">§</a><code>added</code></h6>
<p>the number of items added</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-MenuModelExt-for-O" class="impl"><a class="src rightside" href="../../src/gio/auto/menu_model.rs.html#417">Source</a><a href="#impl-MenuModelExt-for-O" class="anchor">§</a><h3 class="code-header">impl&lt;O: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.MenuModel.html" title="struct gio::MenuModel">MenuModel</a>&gt;&gt; <a class="trait" href="trait.MenuModelExt.html" title="trait gio::prelude::MenuModelExt">MenuModelExt</a> for O</h3></section></div><script src="../../trait.impl/gio/auto/menu_model/trait.MenuModelExt.js" async></script></section></div></main></body></html>