<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait containing all `struct@Cancellable` methods."><title>CancellableExt in gio::prelude - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-84e720fa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gio" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0-nightly (28f1c8079 2025-06-24)" data-channel="nightly" data-search-js="search-92309212.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-340f468f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]-->
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", checkDocsLatestStable);

    function checkDocsLatestStable() {
        function popup(msg, url) { return `
            <style scoped="scoped">
                .popup {
                    max-width: 16em;
                    background-color: #fff;
                    position: fixed;
                    z-index: 1;
                    margin-left: auto;
                    bottom: 1em;
                    right: 1em;
                    border-radius: 5px;
                    box-shadow: 1px 1px 4px #777;
                }

                .popup a.version {
                    color: #e57300;
                    padding: 0.6em 1em;
                    display: block;
                }
                .popup a.version:hover {
                    color: #b25900;
                }

                .popup a.close {
                    color: white;
                    background: grey;
                    border-radius: 99px;
                    display: inline-block;
                    width: 19px;
                    line-height: 19px;
                    font-weight: bold;
                    text-align: center;
                    margin: 0.6em;
                    float: right;
                }
                .popup a.close:hover {
                    background: black;
                }
            </style>
            <section class="popup" id="gir_docs_popup">
                <a class="close" href="#" onclick="document.getElementById('gir_docs_popup').remove(); return false">×</a>
                <a class="version" href="https://gtk-rs.org/gtk-rs-core/stable/latest/docs">
                    ⚠ ${msg}
                </a>
            </section>
        ` };

        if ("main" == "main") {
            document.body.insertAdjacentHTML(
                'beforeend',
                popup("This is the development version. Go to latest stable version.", "stable/latest")
            );
        } else {
            fetch('https://gtk-rs.org/gtk-rs-core/LATEST_RELEASE_BRANCH')
                .then(response => response.text())
                .then(latest_branch => {
                    if (latest_branch.trim() != "main") {
                        document.body.insertAdjacentHTML(
                            'beforeend',
                            popup("This version is outdated. Go to latest version.", "stable/latest")
                        );
                    }
                });
        }
    }
</script>


<nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../gio/index.html">gio</a><span class="version">0.21.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Cancellable<wbr>Ext</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#implementors-1" title="Implementors">Implementors</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.cancel" title="cancel">cancel</a></li><li><a href="#method.fd" title="fd">fd</a></li><li><a href="#method.is_cancelled" title="is_cancelled">is_cancelled</a></li><li><a href="#method.pop_current" title="pop_current">pop_current</a></li><li><a href="#method.push_current" title="push_current">push_current</a></li><li><a href="#method.release_fd" title="release_fd">release_fd</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In gio::<wbr>prelude</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">gio</a>::<wbr><a href="index.html">prelude</a></div><h1>Trait <span class="trait">CancellableExt</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/gio/auto/cancellable.rs.html#135-250">Source</a> </span></div><pre class="rust item-decl"><code>pub trait CancellableExt: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.Cancellable.html" title="struct gio::Cancellable">Cancellable</a>&gt; + 'static {
    // Provided methods
    fn <a href="#method.cancel" class="fn">cancel</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.fd" class="fn">fd</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_cancelled" class="fn">is_cancelled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.pop_current" class="fn">pop_current</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.push_current" class="fn">push_current</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.release_fd" class="fn">release_fd</a>(&amp;self) { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait containing all <a href="../struct.Cancellable.html" title="struct gio::Cancellable"><code>Cancellable</code></a> methods.</p>
<h2 id="implementors-1"><a class="doc-anchor" href="#implementors-1">§</a>Implementors</h2>
<p><a href="../struct.Cancellable.html" title="struct gio::Cancellable"><code>Cancellable</code></a></p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.cancel" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#156-160">Source</a><h4 class="code-header">fn <a href="#method.cancel" class="fn">cancel</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Will set @self to cancelled, and will emit the
#GCancellable::cancelled signal. (However, see the warning about
race conditions in the documentation for that signal if you are
planning to connect to it.)</p>
<p>This function is thread-safe. In other words, you can safely call
it from a thread other than the one running the operation that was
passed the @self.</p>
<p>If @self is <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a>, this function returns immediately for convenience.</p>
<p>The convention within GIO is that cancelling an asynchronous
operation causes it to complete asynchronously. That is, if you
cancel the operation from the same thread in which it is running,
then the operation’s #GAsyncReadyCallback will not be invoked until
the application returns to the main loop.</p>
<p>It is safe (although useless, since it will be a no-op) to call
this function from a <a href="../struct.Cancellable.html#cancelled" title="struct gio::Cancellable"><code>cancelled</code></a> signal handler.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fd" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#182-184">Source</a><h4 class="code-header">fn <a href="#method.fd" class="fn">fd</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a></h4></section></summary><div class="docblock"><p>Gets the file descriptor for a cancellable job. This can be used to
implement cancellable operations on Unix systems. The returned fd will
turn readable when @self is cancelled.</p>
<p>You are not supposed to read from the fd yourself, just check for
readable status. Reading to unset the readable status is done
with g_cancellable_reset().</p>
<p>After a successful return from this function, you should use
g_cancellable_release_fd() to free up resources allocated for
the returned file descriptor.</p>
<p>See also g_cancellable_make_pollfd().</p>
<h5 id="returns"><a class="doc-anchor" href="#returns">§</a>Returns</h5>
<p>A valid file descriptor. <code>-1</code> if the file descriptor
is not supported, or on errors.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_cancelled" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#193-199">Source</a><h4 class="code-header">fn <a href="#method.is_cancelled" class="fn">is_cancelled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Checks if a cancellable job has been cancelled.</p>
<h5 id="returns-1"><a class="doc-anchor" href="#returns-1">§</a>Returns</h5>
<p><a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" title="primitive bool"><code>true</code></a> if @self is cancelled,
FALSE if called with <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> or if item is not cancelled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pop_current" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#209-213">Source</a><h4 class="code-header">fn <a href="#method.pop_current" class="fn">pop_current</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Pops @self off the cancellable stack (verifying that @self
is on the top of the stack).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.push_current" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#224-228">Source</a><h4 class="code-header">fn <a href="#method.push_current" class="fn">push_current</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Pushes @self onto the cancellable stack. The current
cancellable can then be received using g_cancellable_get_current().</p>
<p>This is useful when implementing cancellable operations in
code that does not allow you to pass down the cancellable object.</p>
<p>This is typically called automatically by e.g. #GFile operations,
so you rarely have to call this yourself.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.release_fd" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#245-249">Source</a><h4 class="code-header">fn <a href="#method.release_fd" class="fn">release_fd</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Releases a resources previously allocated by g_cancellable_get_fd()
or g_cancellable_make_pollfd().</p>
<p>For compatibility reasons with older releases, calling this function
is not strictly required, the resources will be automatically freed
when the @self is finalized. However, the @self will
block scarce file descriptors until it is finalized if this function
is not called. This can cause the application to run out of file
descriptors when many #GCancellables are used at the same time.</p>
<p>Note that in the event that a <a href="../struct.Cancellable.html#cancelled" title="struct gio::Cancellable"><code>cancelled</code></a> signal handler is
currently running, this call will block until the handler has finished.
Calling this function from a signal handler will therefore result in a
deadlock.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-CancellableExt-for-O" class="impl"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#252">Source</a><a href="#impl-CancellableExt-for-O" class="anchor">§</a><h3 class="code-header">impl&lt;O: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.Cancellable.html" title="struct gio::Cancellable">Cancellable</a>&gt;&gt; <a class="trait" href="trait.CancellableExt.html" title="trait gio::prelude::CancellableExt">CancellableExt</a> for O</h3></section></div><script src="../../trait.impl/gio/auto/cancellable/trait.CancellableExt.js" async></script></section></div></main></body></html>