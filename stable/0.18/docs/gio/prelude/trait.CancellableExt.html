<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait containing all `struct@Cancellable` methods."><title>CancellableExt in gio::prelude - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-452d19225583af2a.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="gio" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0-nightly (3cdd004e5 2023-12-29)" data-channel="nightly" data-search-js="search-c17e98913a53b3b7.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6902632119e002ca.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]-->
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", checkDocsLatestStable);

    function checkDocsLatestStable() {
        function popup(msg, url) { return `
            <style scoped="scoped">
                .popup {
                    max-width: 16em;
                    background-color: #fff;
                    position: fixed;
                    z-index: 1;
                    margin-left: auto;
                    bottom: 1em;
                    right: 1em;
                    border-radius: 5px;
                    box-shadow: 1px 1px 4px #777;
                }

                .popup a.version {
                    color: #e57300;
                    padding: 0.6em 1em;
                    display: block;
                }
                .popup a.version:hover {
                    color: #b25900;
                }

                .popup a.close {
                    color: white;
                    background: grey;
                    border-radius: 99px;
                    display: inline-block;
                    width: 19px;
                    line-height: 19px;
                    font-weight: bold;
                    text-align: center;
                    margin: 0.6em;
                    float: right;
                }
                .popup a.close:hover {
                    background: black;
                }
            </style>
            <section class="popup" id="gir_docs_popup">
                <a class="close" href="#" onclick="document.getElementById('gir_docs_popup').remove(); return false">×</a>
                <a class="version" href="https://gtk-rs.org/gtk-rs-core/stable/latest/docs">
                    ⚠ ${msg}
                </a>
            </section>
        ` };

        if ("0.18" == "master") {
            document.body.insertAdjacentHTML(
                'beforeend',
                popup("This is the development version. Go to latest stable version.", "stable/latest")
            );
        } else {
            fetch('https://gtk-rs.org/gtk-rs-core/LATEST_RELEASE_BRANCH')
                .then(response => response.text())
                .then(latest_branch => {
                    if (latest_branch.trim() != "0.18") {
                        document.body.insertAdjacentHTML(
                            'beforeend',
                            popup("This version is outdated. Go to latest version.", "stable/latest")
                        );
                    }
                });
        }
    }
</script>


<nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../gio/index.html">gio</a><span class="version">0.18.5</span></h2></div><h2 class="location"><a href="#">CancellableExt</a></h2><div class="sidebar-elems"><section><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.cancel">cancel</a></li><li><a href="#method.fd">fd</a></li><li><a href="#method.is_cancelled">is_cancelled</a></li><li><a href="#method.pop_current">pop_current</a></li><li><a href="#method.push_current">push_current</a></li><li><a href="#method.release_fd">release_fd</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In gio::prelude</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../gio/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">gio</a>::<wbr><a href="index.html">prelude</a>::<wbr><a class="trait" href="#">CancellableExt</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/gio/auto/cancellable.rs.html#138-245">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait CancellableExt: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.Cancellable.html" title="struct gio::Cancellable">Cancellable</a>&gt; + Sealed + 'static {
    // Provided methods
    fn <a href="#method.cancel" class="fn">cancel</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.fd" class="fn">fd</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_cancelled" class="fn">is_cancelled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.pop_current" class="fn">pop_current</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.push_current" class="fn">push_current</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.release_fd" class="fn">release_fd</a>(&amp;self) { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait containing all <a href="../struct.Cancellable.html" title="struct gio::Cancellable"><code>Cancellable</code></a> methods.</p>
<h2 id="implementors-1"><a href="#implementors-1">Implementors</a></h2>
<p><a href="../struct.Cancellable.html" title="struct gio::Cancellable"><code>Cancellable</code></a></p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.cancel" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#156-160">source</a><h4 class="code-header">fn <a href="#method.cancel" class="fn">cancel</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Will set <code>self</code> to cancelled, and will emit the
<a href="../struct.Cancellable.html#cancelled" title="struct gio::Cancellable"><code>cancelled</code></a> signal. (However, see the warning about
race conditions in the documentation for that signal if you are
planning to connect to it.)</p>
<p>This function is thread-safe. In other words, you can safely call
it from a thread other than the one running the operation that was
passed the <code>self</code>.</p>
<p>If <code>self</code> is <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a>, this function returns immediately for convenience.</p>
<p>The convention within GIO is that cancelling an asynchronous
operation causes it to complete asynchronously. That is, if you
cancel the operation from the same thread in which it is running,
then the operation’s <code>GAsyncReadyCallback</code> will not be invoked until
the application returns to the main loop.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fd" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#182-184">source</a><h4 class="code-header">fn <a href="#method.fd" class="fn">fd</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a></h4></section></summary><div class="docblock"><p>Gets the file descriptor for a cancellable job. This can be used to
implement cancellable operations on Unix systems. The returned fd will
turn readable when <code>self</code> is cancelled.</p>
<p>You are not supposed to read from the fd yourself, just check for
readable status. Reading to unset the readable status is done
with <code>g_cancellable_reset()</code>.</p>
<p>After a successful return from this function, you should use
<a href="trait.CancellableExt.html#method.release_fd"><code>release_fd()</code></a> to free up resources allocated for
the returned file descriptor.</p>
<p>See also <code>g_cancellable_make_pollfd()</code>.</p>
<h5 id="returns"><a href="#returns">Returns</a></h5>
<p>A valid file descriptor. <code>-1</code> if the file descriptor
is not supported, or on errors.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.is_cancelled" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#193-199">source</a><h4 class="code-header">fn <a href="#method.is_cancelled" class="fn">is_cancelled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Checks if a cancellable job has been cancelled.</p>
<h5 id="returns-1"><a href="#returns-1">Returns</a></h5>
<p><a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" title="primitive bool"><code>true</code></a> if <code>self</code> is cancelled,
FALSE if called with <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None" title="variant core::option::Option::None"><code>None</code></a> or if item is not cancelled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pop_current" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#209-213">source</a><h4 class="code-header">fn <a href="#method.pop_current" class="fn">pop_current</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Pops <code>self</code> off the cancellable stack (verifying that <code>self</code>
is on the top of the stack).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.push_current" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#224-228">source</a><h4 class="code-header">fn <a href="#method.push_current" class="fn">push_current</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Pushes <code>self</code> onto the cancellable stack. The current
cancellable can then be received using <a href="../struct.Cancellable.html#method.current" title="associated function gio::Cancellable::current"><code>Cancellable::current()</code></a>.</p>
<p>This is useful when implementing cancellable operations in
code that does not allow you to pass down the cancellable object.</p>
<p>This is typically called automatically by e.g. <a href="../struct.File.html" title="struct gio::File"><code>File</code></a> operations,
so you rarely have to call this yourself.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.release_fd" class="method"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#240-244">source</a><h4 class="code-header">fn <a href="#method.release_fd" class="fn">release_fd</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Releases a resources previously allocated by <a href="trait.CancellableExt.html#method.fd"><code>fd()</code></a>
or <code>g_cancellable_make_pollfd()</code>.</p>
<p>For compatibility reasons with older releases, calling this function
is not strictly required, the resources will be automatically freed
when the <code>self</code> is finalized. However, the <code>self</code> will
block scarce file descriptors until it is finalized if this function
is not called. This can cause the application to run out of file
descriptors when many <code>GCancellables</code> are used at the same time.</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/nightly/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-CancellableExt-for-O" class="impl"><a class="src rightside" href="../../src/gio/auto/cancellable.rs.html#247">source</a><a href="#impl-CancellableExt-for-O" class="anchor">§</a><h3 class="code-header">impl&lt;O: <a class="trait" href="../../glib/object/trait.IsA.html" title="trait glib::object::IsA">IsA</a>&lt;<a class="struct" href="../struct.Cancellable.html" title="struct gio::Cancellable">Cancellable</a>&gt;&gt; <a class="trait" href="trait.CancellableExt.html" title="trait gio::prelude::CancellableExt">CancellableExt</a> for O</h3></section></div><script src="../../trait.impl/gio/auto/cancellable/trait.CancellableExt.js" async></script></section></div></main></body></html>